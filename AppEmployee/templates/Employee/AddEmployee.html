{% extends "master.html" %}
{% load static %}

{% block title %}Add Employee{% endblock %}
{% block PageTitle %}Add Employee{% endblock %}
{% block PageHierechy %}
    <li class="breadcrumb-item tx-15"><a href="{% url 'Dashboard' %}">Employee</a></li>
    <li class="breadcrumb-item active" aria-current="page">Add Employee</li>
{% endblock %}
{% block link %}
    <link rel="stylesheet" href="https://cdn.tutorialjinni.com/intl-tel-input/17.0.8/css/intlTelInput.css"/>
    <script src="https://cdn.tutorialjinni.com/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
{% endblock %}
{##}
{#{% block HeadJS %}#}
{##}
{#{% endblock %}#}

{% block content %}
    <div class="row row-sm">
        <form class="form form-horizontal" action="" method="post" accept-charset='utf-8'
              enctype="multipart/form-data" id="EmployeeForm" autocomplete="off">

            {% csrf_token %}
            <div id="info_message"></div>

            <div class="row row-sm mb-1">
                <div class="col-xl-2">
                    <div class="card mb-1">
                        <div class="card-header mb-0">
                            <div class="card-title">Position Hierarchy</div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-xl-12">
                                    <div class="form-group mb-2">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Department</span>
                                            <span class="text-secondary float-md-left">*</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_department">Please Fill it.</span>
                                        </label>
                                        <select id="cmd_department" name="cmd_department"
                                                class="form-control form-select select2-no-search select2-hidden-accessible">
                                            <option Value="NA">Choose One</option>
                                            {% for department in department_list %}
                                                <option value="{{ department.department_code }}">
                                                    {{ department.department_name }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col-xl-12">
                                    <div class="form-group mb-2">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Position</span>
                                            <span class="text-secondary float-md-left">*</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_position">Please Fill it.</span>
                                        </label>
                                        <select id="cmd_position" name="cmd_position"
                                                class="form-control form-select select2-no-search select2-hidden-accessible">
                                            <option Value="NA">Choose One</option>
                                            {% for position in position_list %}
                                                <option value="{{ position.position_code }}">
                                                    {{ position.position_name }}
                                                </option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col-xl-12">
                                    <div class="form-group mb-2">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Duty Type</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_material_cate">Please Fill it.</span>
                                        </label>
                                        {{ form.duty_type }}
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-10">
                    <div class="card mb-1">
                        <div class="card-header">
                            <div class="card-title">Basic Information</div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-xl-4">
                                    <div class="form-group mb-2">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">First Name</span>
                                            <span class="text-secondary float-md-left">*</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_first_name">Please Enter First Name</span>
                                        </label>
                                        {{ form.first_name }}
                                    </div>
                                </div>
                                <div class="col-xl-4">
                                    <div class="form-group mb-2">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Last Name</span>
                                            <span class="text-secondary float-md-left">*</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_last_name">Please Enter Last Name</span>
                                        </label>
                                        {{ form.last_name }}
                                    </div>
                                </div>
                                <div class="col-xl-4">
                                    <div class="form-group mb-2">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Mobile NO.</span>
                                            <span class="0text-secondary float-md-left">*</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_mobile">Please Enter Mobile No.</span>
                                        </label>
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                {#                                                <span class="input-group-text"><img#}
                                                {#                                                        src="{% static 'das/assets/img/flags/pk.svg' %}" height="20vh"></span>#}
                                                {#                                                <span class="input-group-text">+92</span>#}
                                            </div>
                                            {#                                            <input type="text" class="form-control" maxlength="10" id="phone"#}
                                            {#                                                   name="phone"#}
                                            {#                                                   onkeypress="phoneno();" placeholder="Enter Mobile Number">#}
                                            <input name="phone" type="text" id="phone" class="form-control"
                                                   placeholder="Enter Mobile Number"/>

                                        </div>
                                    </div>
                                </div>
                                <div class="col-xl-4">
                                    <div class="form-group mb-2">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Employee CNIC No.</span>
                                            <span class="text-secondary float-md-left"></span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_material_code"></span>
                                        </label>
                                        {#                                        {{ form.cnic_no }}#}
                                        <input type="text" data-inputmask="'mask': '99999-9999999-9'"
                                               class="form-control w-100"
                                               placeholder="XXXXX-XXXXXXX-X" id="cnic" name="cnic" required="">
                                    </div>
                                </div>
                                <div class="col-xl-4">
                                    <div class="form-group mb-2">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Date 0f Birth</span>
                                            <span class="text-secondary float-md-left">*</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_birth_date">Please Select Date of Birth</span>
                                        </label>
                                        <input class="form-control flatpickr-input active" name="birth_date"
                                               id="birth_date" type="text" readonly="readonly"
                                               placeholder="Enter a Valid Date">
                                    </div>
                                </div>
                                <div class="col-xl-4">
                                    <div class="form-group mb-2">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Gender</span>
                                        </label>
                                        {{ form.gender }}
                                    </div>
                                </div>
                                <div class="col-xl-4">
                                    <div class="form-group mb-2">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Hire Date</span>
                                            <span class="text-secondary float-md-left">*</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_hire_date">Please Select Hire Date</span>
                                        </label>
                                        <input class="form-control flatpickr-input active" name="hire_date"
                                               id="hire_date" type="text"
                                               placeholder="Enter a Valid Date">
                                    </div>
                                </div>
                                <div class="col-xl-4">
                                    <div class="form-group mb-2">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Payment Method</span>
                                        </label>
                                        <select id="cmd_payment" name="cmd_payment"
                                                class="form-control form-select select2-no-search select2-hidden-accessible">
                                            {% for payment in payment_list %}
                                                <option value="{{ payment.pm_code }}">
                                                    {{ payment.pm_name }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row row-sm mb-1">
                <div class="col-xl-3">
                    <div class="card mb-1">
                        <div class="card-header">
                            <div class="card-title">Location Information</div>
                        </div>
                        <div class="card-body">
                            <div class="row mb-1">
                                <div class="col-xl-12">
                                    <div class="form-group mb-2">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Location Store</span>
                                            <span class="text-secondary float-md-left">*</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_store_location">Select Store</span>
                                        </label>
                                        <select id="store_location" name="store_location"
                                                multiple="multiple"
                                                class="form-select" style="width: 100%;"
                                                onchange="HRMModelJS.GetEmployeeFromPosition_and_Location('cmd_manager','');"
                                        >
                                            {% for data in location_store_list %}
                                                <option value="{{ data.loc_store_code }}">
                                                    {{ data.loc_store_name }}
                                                </option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col-xl-6">
                                    <div class="form-group mb-2">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Designation</span>
                                            <span class="text-secondary float-md-left">*</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_location_designation">Select Designation</span>
                                        </label>
                                        <select id="cmd_designation" name="cmd_designation"
                                                class="form-control form-select select2-no-search select2-hidden-accessible"
                                                onchange="HRMModelJS.GetEmployeeFromPosition_and_Location('cmd_manager', '');">
                                            <option Value="%">Choose One</option>
                                            {% for position in position_list %}
                                                <option value="{{ position.position_code }}">
                                                    {{ position.position_name }}
                                                </option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col-xl-6">
                                    <div class="form-group mb-2">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Manager</span>
                                            <span class="text-secondary float-md-left">*</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_manager">Select Manager</span>
                                        </label>
                                        <select id="cmd_manager" name="cmd_manager"
                                                class="form-control form-select select2-no-search select2-hidden-accessible">
                                            <option Value="NA">Choose One</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-4">
                    <div class="card mb-1">
                        <div class="card-header">
                            <div class="card-title">Salary Information</div>
                        </div>
                        <div class="card-body">
                            <div class="row mb-1">
                                <div class="col-xl-6">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Pay Frequency</span>
                                            <span class="text-secondary float-md-left">*</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_pay_frequency">Please Select Frequency</span>
                                        </label>
                                        <select id="cmd_pay_freguency" name="cmd_pay_freguency"
                                                class="form-control form-select select2-no-search select2-hidden-accessible">
                                            <option value="NA">Select Pay Frequency</option>
                                            <option value="monthly">Monthly</option>
                                            <option value="weekly">Weekly</option>
                                            <option value="daily">Daily</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-xl-6">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Rate Type</span>
                                            <span class="text-secondary float-md-left">*</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_rate_type">Please Select Rate Type</span>
                                        </label>
                                        <select id="cmd_rate_type" name="cmd_rate_type"
                                                class="form-control form-select select2-no-search select2-hidden-accessible">
                                            <option value="NA">Select Rate Type</option>
                                            <option value="salary" id="Salary">Salary</option>
                                            <option value="hourly">Hourly</option>
                                            <option value="wages">Wages</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-xl-6">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Rate Amount</span>
                                            <span class="text-secondary float-md-left"></span>
                                            <span class="text-secondary float-md-left">*</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_rate">Please Enter Amount</span>
                                        </label>
                                        <input type="text" name="rate_amount" class="form-control"
                                               placeholder="Enter Rate Amount" maxlength="100" id="rate_amount">
                                    </div>
                                </div>
                                <div class="col-xl-6">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Basic Salary</span>
                                            <span class="text-secondary float-md-left">*</span>
                                            <span class="text-danger d-none float-md-left ps-lg-1"
                                                  id="msg_salary">Please Enter Amount</span>
                                        </label>
                                        <input type="text" name="basic_salary" class="form-control"
                                               placeholder="Enter Basic Salary" maxlength="100"
                                               id="basic_salary">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-5">
                    <div class="card mb-1">
                        <div class="card-header">
                            <div class="card-title">Biographic Information</div>
                        </div>
                        <div class="card-body" style="padding: 0.525rem;">
                            <div class="panel tabs-style6">
                                <div class="panel-head">
                                    <ul class="nav nav-tabs">
                                        <li class="nav-item flex-1">
                                            <a class="nav-link tx-14 active" data-bs-toggle="tab" href="#manualAddress">
                                                <i class="fe fe-corner-right-down me-2 tx-13"></i>Manual Address</a>
                                        </li>
                                        <li class="nav-item flex-1">
                                            <a class="nav-link tx-14" data-bs-toggle="tab" href="#autoAddress">
                                                <i class="fe fe-check-square me-2 tx-13"></i>Automatic Address</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="panel-body p-0">
                                    <div class="tab-content">
                                        <div class="tab-pane active" id="manualAddress">
                                            <div class="row">
                                                <div class="col-xl-4">
                                                    <div class="form-group mb-0">
                                                        <label class="form-label">
                                                            <span class="text-primary float-md-left">Country</span>
                                                        </label>
                                                        <select id="cmd_country" name="cmd_country"
                                                                class="form-control form-select select2-no-search select2-hidden-accessible">
                                                            <option Value="NA">Select</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-xl-4">
                                                    <div class="form-group mb-0">
                                                        <label class="form-label">
                                                            <span class="text-primary float-md-left">State</span>
                                                        </label>
                                                        <select id="cmd_state" name="cmd_state"
                                                                class="form-control form-select select2-no-search select2-hidden-accessible">
                                                            <option Value="NA">Select</option>

                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-xl-4">
                                                    <div class="form-group mb-0">
                                                        <label class="form-label">
                                                            <span class="text-primary float-md-left">City</span>
                                                        </label>
                                                        <select id="cmd_city" name="cmd_city"
                                                                class="form-control form-select select2-no-search select2-hidden-accessible">
                                                            <option Value="NA">Select</option>
                                                        </select>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="row">
                                                <div class="col-xl-6">
                                                    <div class="form-group mb-0">
                                                        <label class="form-label">
                                                            <span class="text-primary float-md-left">Area</span>
                                                        </label>
                                                        <select id="cmd_area" name="cmd_area"
                                                                class="form-control form-select select2-no-search select2-hidden-accessible">
                                                            <option Value="NA">Select</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="col-xl-6">
                                                    <div class="form-group mb-0">
                                                        <label class="form-label">
                                                            <span class="text-primary float-md-left">Address</span>
                                                        </label>
                                                        {{ form.address }}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane" id="autoAddress">
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <div class="row row-sm">
                <div class="col-xl-12">
                    <div class="card mb-1">
                        <div class="card-header">
                            <div class="card-title">Emergency Contact (optional)</div>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-xl-3">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Contact Name</span>
                                        </label>
                                        <input type="text" name="contact_name" class="form-control"
                                               placeholder="Enter Contact Name" id="contact_name">
                                    </div>
                                </div>
                                <div class="col-xl-3">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Contact Relation</span>
                                        </label>
                                        <input type="text" name="contact_relation" class="form-control"
                                               placeholder="Enter Contact Relation" maxlength="100"
                                               id="contact_relation">
                                    </div>
                                </div>
                                <div class="col-xl-3">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Mobile No</span>
                                        </label>
                                        <input type="text" name="emergency_mobile_no" class="form-control"
                                               placeholder="Enter Mobile No" maxlength="100"
                                               id="emergency_mobile_no">
                                    </div>
                                </div>
                                <div class="col-xl-3">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Alter Mobile No</span>
                                        </label>
                                        <input type="text" name="emergency_alter_mobile_no" class="form-control"
                                               placeholder="Enter Alter Mobile No" maxlength="100"
                                               id="emergency_alter_mobile_no">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xl-3">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Home Phone</span>
                                        </label>
                                        <input type="text" name="home_phone" class="form-control"
                                               placeholder="Enter Home Phone" id="home_phone">
                                    </div>
                                </div>
                                <div class="col-xl-3">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Alter Home Phone</span>
                                        </label>
                                        <input type="text" name="alter_home_phone" class="form-control"
                                               placeholder="Enter Alter Home Phone" id="alter_home_phone">
                                    </div>
                                </div>
                                <div class="col-xl-3">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Work No</span>
                                        </label>
                                        <input type="text" name="work_number" class="form-control"
                                               placeholder="Enter Work Number" id="work_number">
                                    </div>
                                </div>
                                <div class="col-xl-3">
                                    <div class="form-group">
                                        <label class="form-label">
                                            <span class="text-primary float-md-left">Alter Work No</span>
                                        </label>
                                        <input type="text" name="alter_work_number" class="form-control"
                                               placeholder="Enter Alter Work Number" id="alter_work_number">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer">
                            <button class="btn btn-primary px-5 w-100" type="button" id="submitBtn">
                                Save Information
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
{% endblock %}

{% block js %}
    <script src="{% static "AppHRM.js" %}" type="text/javascript"></script>
    <script src="{% static "das/assets/js/jquery.inputmask.bundle.js" %}"></script>
    <script src="https://cdn.tutorialjinni.com/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
    <script>
        var HRMModelJS = null;
        var get_employee_name_from_position_and_location = '{%  url 'GetEmployeeNameFromPositionAndLocation' %}';
        var get_all_country = '{% url "GetAllCountry" %}';
        var get_pay_frequency = "";
        var get_rate_type = "";


        var input = document.querySelector("#phone");
        window.intlTelInput(input, {
            separateDialCode: true,
            excludeCountries: ["in", "il"],
            preferredCountries: ["pk", "ru", "jp", "no"]
        });

        $(document).ready(function () {

            HRMModelJS = new AppHRMModel();
            HRMModelJS.appConstructor();
            //GLOBAL FUNCTION THAT SHOW ALL COUNTRY FROM TABLE
            GlobalModelJS.GetAllCountry("cmd_country", "");
            //ONCHANGE FUNCTION THAT SHOW STATE FROM THE SELECTED COUNTRY
            $("#cmd_country").change(function (e) {
                var selected_value = e.target.value;
                let condition_column = "country_code=" + selected_value;
                let cmd_column = "state_code^^state_name";
                GlobalModelJS.FillCmdListByModelWithCode("tbl_state_data", condition_column, cmd_column, "cmd_state", "");
            });
            //ONCHANGE FUNCTION THAT SHOW CITY FROM THE SELECTED STATE
            $("#cmd_state").change(function (e) {
                var selected_value = e.target.value;
                let condition_column = "state_code=" + selected_value;
                let cmd_column = "city_code^^city_name";
                GlobalModelJS.FillCmdListByModelWithCode("tbl_city_data", condition_column, cmd_column, "cmd_city", "");
            });
            //ONCHANGE FUNCTION THAT SHOW AREA FROM THE SELECTED CITY
            $("#cmd_city").change(function (e) {
                var selected_value = e.target.value;
                let condition_column = "city_code=" + selected_value;
                let cmd_column = "area_code^^area_name";
                GlobalModelJS.FillCmdListByModelWithCode("tbl_area_town_data", condition_column, cmd_column, "cmd_area", "");
            });

            $("#cmd_pay_freguency").change(function (e) {
                get_pay_frequency = e.target.value;
                conditionPayRate();
            });

            $("#cmd_rate_type").change(function (e) {
                get_rate_type = e.target.value;
                conditionPayRate();
            });

            var message = '{{ message }}';
            ///SUCCESS MESSAGE
            if (message === "Success") {
                successAvatarBox("info_message", "Employee Created!!!");
            }

            //// FORM VALIDATION (START)
            $("#submitBtn").click(function () {
                let Status = 0;
                let get_employee_department = $("#cmd_department").val();
                if (get_employee_department === "NA") {
                    $("#msg_department").removeClass("d-none");
                    $("#msg_department").addClass("d-block");
                    Status = 1;
                } else {
                    $("#msg_department").removeClass("d-block");
                    $("#msg_department").addClass("d-none");
                }
                let get_employee_position = $("#cmd_position").val();
                if (get_employee_position === "NA") {
                    $("#msg_position").removeClass("d-none");
                    $("#msg_position").addClass("d-block");
                    Status = 1;
                } else {
                    $("#msg_position").removeClass("d-block");
                    $("#msg_position").addClass("d-none");
                }
                let get_first_name = $("#id_first_name").val();
                if (get_first_name === "") {
                    $("#msg_first_name").removeClass("d-none");
                    $("#msg_first_name").addClass("d-block");
                    Status = 1;
                } else {
                    $("#msg_first_name").removeClass("d-block");
                    $("#msg_first_name").addClass("d-none");
                }
                let get_last_name = $("#id_last_name").val();
                if (get_last_name === "") {
                    $("#msg_last_name").removeClass("d-none");
                    $("#msg_last_name").addClass("d-block");
                    Status = 1;
                } else {
                    $("#msg_last_name").removeClass("d-block");
                    $("#msg_last_name").addClass("d-none");
                }
                let get_mobile = $("#id_mobile").val();
                if (get_mobile === "") {
                    $("#msg_mobile").removeClass("d-none");
                    $("#msg_mobile").addClass("d-block");
                    Status = 1;
                } else {
                    $("#msg_mobile").removeClass("d-block");
                    $("#msg_mobile").addClass("d-none");
                }

                let get_birth_date = $("#birth_date").val();
                if (get_birth_date === "") {
                    $("#msg_birth_date").removeClass("d-none");
                    $("#msg_birth_date").addClass("d-block");
                    Status = 1;
                } else {
                    $("#msg_birth_date").removeClass("d-block");
                    $("#msg_birth_date").addClass("d-none");
                }
                let get_hire_date = $("#hire_date").val();
                if (get_hire_date === "") {
                    $("#msg_hire_date").removeClass("d-none");
                    $("#msg_hire_date").addClass("d-block");
                    Status = 1;
                } else {
                    $("#msg_hire_date").removeClass("d-block");
                    $("#msg_hire_date").addClass("d-none");
                }
                let get_pay_freguency = $("#cmd_pay_freguency").val();
                if (get_pay_freguency === "NA") {
                    $("#msg_pay_frequency").removeClass("d-none");
                    $("#msg_pay_frequency").addClass("d-block");
                    Status = 1;
                } else {
                    $("#msg_pay_frequency").removeClass("d-block");
                    $("#msg_pay_frequency").addClass("d-none");
                }
                let get_rate_type = $("#cmd_rate_type").val();
                if (get_rate_type === "NA") {
                    $("msg_rate_type").removeClass("d-none");
                    $("#msg_rate_type").addClass("d-block");
                    Status = 1;
                } else {
                    $("#msg_rate_type").removeClass("d-block");
                    $("#msg_rate_type").addClass("d-none");
                }
                if (get_rate_type === "salary") {
                    let get_salary = $('#basic_salary').val();
                    if (get_salary === "") {
                        $("msg_salary").removeClass("d-none");
                        $("#msg_salary").addClass("d-block");
                        Status = 1;
                    } else {
                        $("#msg_salary").removeClass("d-block");
                        $("#msg_salary").addClass("d-none");
                    }
                }
                if (get_rate_type === "hourly") {
                    let get_rate_amount = $('#rate_amount').val();
                    if (get_rate_amount === "") {

                        $("msg_rate").removeClass("d-none");
                        $("#msg_rate").addClass("d-block");
                        Status = 1;
                    } else {
                        $("#msg_rate").removeClass("d-block");
                        $("#msg_rate").addClass("d-none");
                    }
                }

                let get_store_location = $("#store_location").val();
                if (get_store_location.length === 0) {
                    $("#msg_store_location").removeClass("d-none");
                    $("#msg_store_location").addClass("d-block");
                    Status = 1;
                } else {
                    $("#msg_store_location").removeClass("d-block");
                    $("#msg_store_location").addClass("d-none");
                }
                if (Status === 0) {
                    $("#EmployeeForm").submit(); // Submit the form
                }
            });
            //// FORM VALIDATION (END)

        });


        function conditionPayRate() {
            $("#rate_amount").prop('readonly', false);
            $("#basic_salary").prop('readonly', false);

            if (get_pay_frequency === "monthly" && get_rate_type === "salary") {
                $("#rate_amount").val("0");
                $("#rate_amount").prop('readonly', true);
            }
            if (get_pay_frequency === "monthly" && get_rate_type === "hourly") {
                $("#basic_salary").val("0");
                $("#basic_salary").prop('readonly', true);
            }
            if (get_pay_frequency === "weekly" && get_rate_type === "salary") {
                $("#rate_amount").val("0");
                $("#rate_amount").prop('readonly', true);
            }
            if (get_pay_frequency === "weekly" && get_rate_type === "hourly") {
                $("#basic_salary").val("0");
                $("#basic_salary").prop('readonly', true);
            }
            if (get_pay_frequency === "daily" && get_rate_type === "hourly") {
                $("#basic_salary").val("0");
                $("#basic_salary").prop('readonly', true);
            }
            if (get_pay_frequency === "daily" && get_rate_type === "salary") {
                $("#rate_amount").val("0");
                $("#rate_amount").prop('readonly', true);
                $("#basic_salary").val("0");
                $("#basic_salary").prop('readonly', true);
            } else if (get_rate_type === "wages") {
                $("#rate_amount").val("0");
                $("#rate_amount").prop('readonly', true);
                $("#basic_salary").val("0");
                $("#basic_salary").prop('readonly', true);
            }
        }

        // VALIDATION THAT ONLY ENTERS NUMERIC DIGITS
        function phoneno() {
            $('#phone').keypress(function (e) {
                var a = [];
                var k = e.which;

                for (i = 48; i < 58; i++)
                    a.push(i);

                if (!(a.indexOf(k) >= 0))
                    e.preventDefault();
            });
        }

        //select2
        $('.select2').select2({
            placeholder: 'Choose one',
            searchInputPlaceholder: 'Search'
        });
        $('.select2-no-search').select2({
            minimumResultsForSearch: Infinity,
            placeholder: 'Choose one'
        });
        $('#cmd_country').select2();
        $('#cmd_state').select2();
        $('#cmd_city').select2();
        $('#cmd_area').select2();
        $('#cmd_department').select2();
        $('#cmd_position').select2();

        $("#store_location").select2();
        $("#cmd_designation").select2();
        $("#cmd_manager").select2();
        // Date Picker
        flatpickr("#birth_date", {});
        flatpickr("#hire_date", {});

        // INPUT MASK
        $(":input").inputmask();
        {##}
        {#function GetHireDateSelectedValue (){#}
        {#   var hire_date =  $("hire_date").val();#}
        {#   alert(hire_date);#}
        {##}
        {# }#}

    </script>

{% endblock %}

